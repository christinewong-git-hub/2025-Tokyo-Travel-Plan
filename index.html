<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>My Cute Planner âœˆï¸ NH924</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Axios CDN (APIç”¨) -->
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

  <!-- Tailwind è‡ªè¨‚ä¸»é¡Œè‰² -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#97CBFF',
          },
          fontFamily: {
            sans: ['system-ui', '-apple-system', 'BlinkMacSystemFont', 'sans-serif'],
          }
        }
      }
    }
  </script>

  <!-- Vue 3 CDN -->
  <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>

  <style>
    body {
      background: linear-gradient(135deg, #f7fbff 0%, #e8f2ff 100%);
      min-height: 100vh;
    }
    .phone-shell {
      max-width: 420px;
      border-radius: 2rem;
      box-shadow:
        0 25px 50px rgba(0,0,0,0.15),
        0 0 0 1px rgba(151,203,255,0.3);
      overflow: hidden;
      background: white;
    }
    .soft-card {
      border-radius: 1.25rem;
      background: linear-gradient(135deg, #ffffff, #f8fbff);
      box-shadow:
        0 12px 30px rgba(151,203,255,0.4);
      border: 1px solid rgba(151,203,255,0.15);
    }
  </style>
</head>
<body class="min-h-screen flex items-center justify-center px-4 py-8 font-sans">

  <div id="app" class="phone-shell w-full">
    <!-- Header -->
    <header class="bg-gradient-to-r from-primary to-blue-400 text-white px-5 pt-5 pb-3">
      <div class="flex items-center justify-between">
        <div>
          <p class="text-xs opacity-80">Today</p>
          <h1 class="text-xl font-semibold tracking-wide">{{ todayLabel }}</h1>
        </div>
        <div class="flex items-center gap-2 text-xs bg-white/20 px-3 py-1.5 rounded-full backdrop-blur-sm">
          <span class="w-2 h-2 rounded-full bg-emerald-300 animate-pulse"></span>
          <span>å°‘å¥³è¡Œç¨‹ç®¡å®¶</span>
        </div>
      </div>
      <div class="mt-3 flex gap-1 text-[11px]">
        <span v-for="tab in tabs"
              :key="tab.id"
              @click="activeTab = tab.id"
              class="px-3 py-1.5 rounded-full cursor-pointer transition-all backdrop-blur-sm"
              :class="activeTab === tab.id
                ? 'bg-white text-primary shadow-lg scale-105'
                : 'text-white/80 hover:bg-white/20'">
          {{ tab.label }}
        </span>
      </div>
    </header>

    <!-- Content -->
    <main class="px-4 pb-6 pt-3 space-y-4 text-[13px] text-slate-700">
      
      <!-- èˆªç­è³‡è¨Šå¡ç‰‡ -->
      <section class="soft-card p-4 mx-2">
        <div class="flex items-center justify-between mb-3">
          <h2 class="text-sm font-semibold text-slate-800 flex items-center gap-1">
            âœˆï¸ æˆ‘çš„èˆªç­
          </h2>
          <span class="text-[11px] text-primary font-semibold">{{ daysToTrip }} å¤©å¾Œå‡ºç™¼</span>
        </div>
        
        <div class="space-y-3 mb-3">
          <!-- å»ç¨‹ -->
          <div class="flex items-center justify-between group">
            <div class="flex items-center gap-3 flex-1">
              <div class="w-12 h-12 bg-gradient-to-r from-blue-400 to-primary rounded-xl flex items-center justify-center text-white font-semibold text-sm shadow-lg">
                NH924
              </div>
              <div>
                <p class="text-[14px] font-semibold text-slate-900">ğŸ›« å»ç¨‹</p>
                <p class="text-[11px] text-slate-500">12/24 é¦™æ¸¯ â†’ æ±äº¬</p>
              </div>
            </div>
            <div class="flex flex-col items-end gap-1 text-[11px]">
              <span class="px-2 py-1 bg-emerald-100 text-emerald-700 rounded-full font-medium text-xs">
                {{ departureStatus }}
              </span>
              <span class="text-slate-500">{{ departureCountdown }}</span>
            </div>
          </div>
          
          <!-- å›ç¨‹ -->
          <div class="flex items-center justify-between pt-3 border-t border-primary/20">
            <div class="flex items-center gap-3 flex-1">
              <div class="w-12 h-12 bg-gradient-to-r from-rose-400 to-pink-400 rounded-xl flex items-center justify-center text-white font-semibold text-sm shadow-lg">
                NH923
              </div>
              <div>
                <p class="text-[14px] font-semibold text-slate-900">ğŸ›¬ å›ç¨‹</p>
                <p class="text-[11px] text-slate-500">1/1 æ±äº¬ â†’ é¦™æ¸¯</p>
              </div>
            </div>
            <div class="flex flex-col items-end gap-1 text-[11px]">
              <span class="px-2 py-1 bg-amber-100 text-amber-700 rounded-full font-medium text-xs">
                {{ returnStatus }}
              </span>
              <span class="text-slate-500">{{ returnCountdown }}</span>
            </div>
          </div>
        </div>
        
        <!-- å³æ™‚å€’æ•¸ -->
        <div class="bg-gradient-to-r from-primary/10 to-blue-50 p-3 rounded-xl border border-primary/20">
          <div class="flex items-center justify-between text-[12px] font-mono">
            <span>â° å‡ºç™¼å€’æ•¸ï¼š</span>
            <span class="text-lg font-bold text-primary">{{ tripCountdown }}</span>
          </div>
        </div>
      </section>

      <!-- è¡Œç¨‹è¡¨ -->
      <section v-if="activeTab === 'schedule'" class="soft-card p-4">
        <div class="flex items-center justify-between mb-3">
          <h2 class="text-sm font-semibold text-slate-800">ğŸ“… è¡Œç¨‹è¡¨</h2>
          <span class="text-[11px] text-primary">å®‰æ’ä½ çš„ä¸€å¤©</span>
        </div>
        
        <!-- å¤©æ°£ -->
        <div class="mb-3 p-3 bg-gradient-to-r from-sky-50 to-blue-50 rounded-xl border border-sky-200">
          <p class="text-[12px] text-slate-600 flex items-center gap-2">
            <span>ğŸŒ¤ï¸</span>
            <span v-if="weather.loaded">
              {{ weather.city }}ï¼š{{ weather.temp }}Â°C {{ weather.desc }}
            </span>
            <span v-else class="animate-pulse">è¼‰å…¥å¤©æ°£ä¸­...</span>
          </p>
        </div>
        
        <div class="space-y-3 max-h-72 overflow-y-auto pr-1">
          <div v-for="(item, idx) in schedule" :key="idx" class="flex gap-3 items-start">
            <div class="flex flex-col items-center mt-0.5 flex-shrink-0">
              <div class="w-8 h-8 rounded-full bg-primary/15 flex items-center justify-center text-primary text-[11px] font-semibold">
                {{ item.time }}
              </div>
              <div class="w-px flex-1 bg-gradient-to-b from-primary/50 to-primary/20 mt-2"></div>
            </div>
            <div class="flex-1 bg-white/90 hover:bg-white rounded-xl px-4 py-3 border border-primary/15 hover:shadow-md transition-all">
              <div class="flex items-center justify-between mb-1">
                <p class="font-semibold text-[14px] text-slate-900">{{ item.title }}</p>
                <button v-if="item.place" @click="openMaps(item.place)"
                        class="text-[11px] text-primary font-medium underline underline-offset-2 hover:no-underline">
                  ğŸ—ºï¸ å°èˆª
                </button>
              </div>
              <p class="text-[12px] text-slate-500 mb-1" v-if="item.note">{{ item.note }}</p>
              <p class="text-[11px] text-slate-600 flex items-center gap-1" v-if="item.place">
                ğŸ“ {{ item.place }}
              </p>
            </div>
          </div>
        </div>
        
        <form @submit.prevent="addSchedule" class="mt-4 space-y-2">
          <div class="flex gap-2">
            <input v-model="newSchedule.time" type="time"
                   class="flex-1 rounded-xl border border-primary/40 px-3 py-2 text-[12px] focus:outline-none focus:ring-2 focus:ring-primary/40" />
            <input v-model="newSchedule.title" type="text" placeholder="æ–°å¢è¡Œç¨‹"
                   class="flex-2 rounded-xl border border-primary/40 px-3 py-2 text-[12px] focus:outline-none focus:ring-2 focus:ring-primary/40" />
          </div>
          <input v-model="newSchedule.place" type="text" placeholder="åœ°é»ï¼åœ°å€ï¼ˆç”¨æ–¼å°èˆªï¼‰"
                 class="w-full rounded-xl border border-primary/30 px-3 py-2 text-[12px] focus:outline-none focus:ring-2 focus:ring-primary/40" />
          <button type="submit" class="w-full py-2.5 rounded-xl bg-gradient-to-r from-primary to-blue-500 text-white font-semibold text-[12px] shadow-lg hover:shadow-xl transition-all">
            âœ¨ æ–°å¢è¡Œç¨‹
          </button>
        </form>
      </section>

      <!-- è¨˜å¸³ -->
      <section v-if="activeTab === 'budget'" class="soft-card p-4">
        <div class="flex items-center justify-between mb-3">
          <h2 class="text-sm font-semibold text-slate-800">ğŸ’° è¨˜å¸³å°æœ¬æœ¬</h2>
          <span class="text-[12px] font-semibold text-primary">ä»Šæ—¥ï¼šHK$ {{ totalExpense }}</span>
        </div>
        
        <div class="space-y-3 mb-4">
          <div class="flex gap-2">
            <input v-model="newExpense.title" type="text" placeholder="é …ç›®ï¼ˆæ™šé¤/äº¤é€šï¼‰"
                   class="flex-[2] rounded-xl border border-primary/40 px-3 py-2 text-[12px] focus:outline-none focus:ring-2 focus:ring-primary/40" />
            <input v-model.number="newExpense.amount" type="number" min="0" step="0.1" placeholder="HKD"
                   class="flex-[1] rounded-xl border border-primary/40 px-3 py-2 text-[12px] focus:outline-none focus:ring-2 focus:ring-primary/40" />
          </div>
          <div class="flex items-center gap-2 text-[11px]">
            <select v-model="newExpense.method" class="flex-1 rounded-xl border border-primary/40 px-3 py-2 text-[12px] bg-white focus:outline-none focus:ring-2 focus:ring-primary/40">
              <option value="cash">ğŸ’µ ç¾é‡‘</option>
              <option value="card">ğŸ’³ ä¿¡ç”¨å¡</option>
            </select>
            <span class="text-emerald-600 font-semibold">
              â‰ˆ {{ convertedExpense }} {{ targetCurrency }}
            </span>
          </div>
        </div>
        
        <div class="max-h-48 overflow-y-auto pr-1 space-y-2">
          <div v-if="expenses.length === 0" class="text-center py-8 text-slate-400 text-[12px]">
            é‚„æ²’è¨˜å¸³ï¼Œå…ˆåŠ ä¸€ç­†å§ï½ğŸ’™
          </div>
          <div v-for="(item, idx) in expenses" :key="idx"
               class="flex items-center justify-between bg-white/90 hover:bg-white rounded-xl px-4 py-3 border border-primary/10 hover:border-primary/20 transition-all">
            <div class="flex-1">
              <p class="font-medium text-[13px] text-slate-900">{{ item.title }}</p>
              <p class="text-[11px] text-slate-400">{{ item.date }}</p>
            </div>
            <div class="flex flex-col items-end gap-1 text-right">
              <span class="text-lg font-bold text-primary">HK$ {{ item.amount }}</span>
              <span class="text-[11px] text-emerald-600">â‰ˆ {{ item.converted }} {{ targetCurrency }}</span>
              <span class="text-[11px] px-2 py-0.5 bg-gray-100 rounded-full text-xs">
                {{ item.method === 'cash' ? 'ç¾é‡‘' : 'ä¿¡ç”¨å¡' }}
              </span>
              <button @click="deleteExpense(idx)" class="text-slate-400 hover:text-rose-500 text-[14px] p-1 -m-1 rounded-full hover:bg-rose-50">
                Ã—
              </button>
            </div>
          </div>
        </div>
      </section>

      <!-- æ—…è¡Œè³¼ç‰©æ¸…å–® -->
      <section v-if="activeTab === 'shopping'" class="soft-card p-4">
        <div class="flex items-center justify-between mb-3">
          <h2 class="text-sm font-semibold text-slate-800">ğŸ›ï¸ æ—…è¡Œè³¼ç‰©æ¸…å–®</h2>
          <span class="text-[11px] font-semibold text-primary">
            {{ shoppingLeft }}/{{ shoppingList.length }} ä»¶
          </span>
        </div>
        
        <!-- æ–°å¢è¡¨å–® -->
        <div class="space-y-2 mb-4 p-4 bg-gradient-to-br from-amber-50 to-pink-50 rounded-2xl border border-amber-200">
          <input v-model="newItem.text" type="text" placeholder="ç‰©å“ï¼ˆé¢è†œ/è½‰æ¥é ­/é›¶é£Ÿï¼‰"
                 class="w-full rounded-xl border border-primary/40 px-3 py-2 text-[12px] focus:outline-none focus:ring-2 focus:ring-primary/40" />
          <div class="flex items-center gap-2">
            <input v-model.number="newItem.estimatedPrice" type="number" min="0" step="0.1" placeholder="é ä¼° HKD"
                   class="flex-1 rounded-xl border border-primary/40 px-3 py-2 text-[12px] focus:outline-none focus:ring-2 focus:ring-primary/40" />
            <label class="flex items-center gap-1 text-[11px] text-slate-600 cursor-pointer p-2 -m-2 hover:bg-white rounded-xl">
              <input type="file" @change="onImageSelect" accept="image/*" class="hidden" ref="imageInput">
              ğŸ“¸ åŠ åœ–
            </label>
            <button @click="addItem" :disabled="!newItem.text.trim()"
                    class="px-4 py-2 rounded-xl bg-gradient-to-r from-emerald-500 to-emerald-600 text-white font-semibold text-[11px] shadow hover:shadow-lg disabled:opacity-50 transition-all">
              âœ¨ åŠ å…¥
            </button>
          </div>
        </div>

        <!-- æ¸…å–® -->
        <div class="max-h-56 overflow-y-auto pr-1 space-y-2">
          <div v-if="shoppingList.length === 0" class="text-center py-12 text-slate-400">
            <div class="text-2xl mb-2">ğŸ›ï¸</div>
            <p class="text-[12px]">é–‹å§‹è¦åŠƒæ—…è¡Œè³¼ç‰©æ¸…å–®å§ï½</p>
          </div>
          <div v-for="(item, idx) in sortedShoppingList" :key="idx"
               class="group bg-white/90 hover:bg-white rounded-2xl p-4 border transition-all"
               :class="item.bought ? 'border-emerald-200 bg-emerald-50/70 shadow-md' : 'border-amber-200 bg-amber-50/50 hover:shadow-lg'">
            <div class="flex items-start gap-3">
              <!-- åœ–ç‰‡ -->
              <div class="w-16 h-16 rounded-xl overflow-hidden bg-gradient-to-br from-slate-100 to-slate-200 flex-shrink-0 mt-0.5 shadow-sm"
                   :style="item.image ? `background-image: url(${item.image})` : ''"
                   :class="item.image ? 'bg-cover bg-center shadow-md' : ''">
                <div v-if="!item.image" class="w-full h-full flex items-center justify-center text-slate-400 text-sm">
                  ğŸ“·
                </div>
              </div>
              
              <!-- å…§å®¹ -->
              <div class="flex-1 min-w-0">
                <label class="flex items-start gap-2 cursor-pointer w-full">
                  <input type="checkbox" v-model="item.bought" @change="updateItemBought(idx)"
                         class="mt-1 h-5 w-5 rounded border-2 border-primary/60 text-primary focus:ring-primary/50 mt-0.5">
                  <span class="text-[14px] font-semibold leading-tight flex-1 pr-2"
                        :class="item.bought ? 'line-through text-slate-500' : 'text-slate-900'">
                    {{ item.text }}
                  </span>
                </label>
                
                <!-- åƒ¹éŒ¢ -->
                <div class="flex items-center gap-3 mt-2 text-[12px]">
                  <span v-if="item.estimatedPrice" class="text-slate-400 line-through flex items-center gap-1">
                    ğŸ’­ é ä¼°ï¼šHK$ {{ item.estimatedPrice }}
                  </span>
                  <div v-if="item.bought" class="flex items-center gap-2">
                    <span v-if="item.actualPrice" class="font-bold text-emerald-600 bg-emerald-100 px-3 py-1 rounded-full text-sm flex items-center gap-1">
                      âœ“ HK$ {{ item.actualPrice }}
                    </span>
                    <input v-else v-model.number="item.actualPrice" type="number" min="0" step="0.1" placeholder="å¯¦éš›åƒ¹"
                           class="w-20 rounded-lg border border-emerald/40 px-2 py-1 text-[11px] focus:outline-none focus:ring-2 focus:ring-emerald/40" />
                  </div>
                </div>
              </div>
              
              <!-- åˆªé™¤ -->
              <button @click="deleteItem(idx)"
                      class="opacity-0 group-hover:opacity-100 text-slate-400 hover:text-rose-500 text-xl p-2 -m-2 rounded-full hover:bg-rose-100 transition-all">
                Ã—
              </button>
            </div>
          </div>
        </div>
        
        <!-- çµ±è¨ˆ -->
        <div class="mt-4 pt-4 border-t border-primary/20 space-y-1">
          <div class="flex justify-between text-[12px] text-slate-600">
            <span>ğŸ’° ç¸½é ç®—ï¼š</span><span>HK$ {{ totalEstimated }}</span>
          </div>
          <div class="flex justify-between text-[12px] font-bold text-emerald-600">
            <span>âœ… å·²èŠ±ï¼š</span><span>HK$ {{ totalActual }}</span>
          </div>
          <div class="flex justify-between text-[13px] font-bold" :class="remainingBudget >= 0 ? 'text-emerald-600' : 'text-rose-600'">
            <span>ğŸ’š å‰©é¤˜ï¼š</span><span>{{ remainingBudget }}</span>
          </div>
        </div>
      </section>
    </main>
  </div>

  <script>
    const { createApp, computed, ref, onMounted } = Vue

    createApp({
      data() {
        return {
          activeTab: 'schedule',
          tabs: [
            { id: 'schedule', label: 'è¡Œç¨‹è¡¨' },
            { id: 'budget', label: 'è¨˜å¸³' },
            { id: 'shopping', label: 'è³¼ç‰©' }
          ],
          // èˆªç­
          flights: {
            departure: { flight: 'NH924', date: new Date('2025-12-24T10:30:00+08:00') },
            return: { flight: 'NH923', date: new Date('2026-01-01T16:30:00+08:00') }
          },
          // è¡Œç¨‹
          schedule: [
            { time: '09:00', title: 'èµ·åºŠ + æ—©é¤', note: 'æ…¢æ…¢é–‹å§‹ç¾å¥½çš„ä¸€å¤©', place: 'å¤§åŸ”' },
            { time: '11:00', title: 'å’–å•¡ / Brunch', note: 'è·Ÿæœ‹å‹å°èš', place: 'éŠ…é‘¼ç£' },
            { time: '15:00', title: 'é€›è¡—è³¼ç‰©', note: 'è²·æ—…è¡Œç”¨å“', place: 'å°–æ²™å’€' }
          ],
          newSchedule: { time: '18:00', title: '', place: '' },
          // å¤©æ°£
          weather: { loaded: false, city: 'é¦™æ¸¯', temp: '--', desc: '' },
          // è¨˜å¸³
          expenses: [],
          newExpense: { title: '', amount: null, method: 'cash' },
          targetCurrency: 'JPY',
          rateHKDToTarget: 20,
          // è³¼ç‰©
          shoppingList: [],
          newItem: { text: '', estimatedPrice: null, image: '' },
          imageInput: null
        }
      },
      
      computed: {
        todayLabel() {
          const d = new Date()
          return `${d.getFullYear()}/${d.getMonth()+1}/${d.getDate()}ï¼ˆé€±${['æ—¥','ä¸€','äºŒ','ä¸‰','å››','äº”','å…­'][d.getDay()]}ï¼‰`
        },
        daysToTrip() {
          const diff = Math.ceil((this.flights.departure.date - new Date()) / (1000*60*60*24))
          return diff > 0 ? diff : 0
        },
        departureStatus() {
          const diff = (this.flights.departure.date - new Date()) / (1000*60*60*1000)
          return diff > 7*24 ? 'æº–å‚™ä¸­' : diff > 24 ? 'å³å°‡å‡ºç™¼' : 'ä»Šå¤©ï¼'
        },
        returnStatus() {
          return (this.flights.return.date - new Date()) > 0 ? 'æœªå›ç¨‹' : 'å·²çµæŸ'
        },
        departureCountdown() {
          const diff = this.flights.departure.date - new Date()
          if (diff < 0) return 'å·²å‡ºç™¼'
          const d = Math.floor(diff / (1000*60*60*24))
          const h = Math.floor((diff % (1000*60*60*24)) / (1000*60*60))
          return d > 0 ? `${d}å¤©${h}æ™‚` : `${h}å°æ™‚`
        },
        returnCountdown() {
          const diff = this.flights.return.date - new Date()
          if (diff < 0) return 'å·²å›ä¾†'
          return `${Math.floor(diff / (1000*60*60*24))}å¤©å¾Œ`
        },
        tripCountdown() {
          const diff = this.flights.departure.date - new Date()
          if (diff < 0) return 'æ—…ç¨‹ä¸­'
          const d = Math.floor(diff / (1000*60*60*24))
          const h = Math.floor((diff % (1000*60*60*24)) / (1000*60*60))
          const m = Math.floor((diff % (1000*60*60)) / (1000*60))
          return `${d}å¤© ${h.toString().padStart(2,'0')}:${m.toString().padStart(2,'0')}`
        },
        totalExpense() {
          return this.expenses.reduce((s, e) => s + Number(e.amount||0), 0).toFixed(1)
        },
        convertedExpense() {
          return this.newExpense.amount && this.rateHKDToTarget 
            ? (this.newExpense.amount * this.rateHKDToTarget).toFixed(0) : '--'
        },
        sortedShoppingList() {
          return [...this.shoppingList].sort((a,b) => (b.bought?1:0) - (a.bought?1:0))
        },
        shoppingLeft() {
          return this.shoppingList.filter(i => !i.bought).length
        },
        totalEstimated() {
          return this.shoppingList.reduce((s,i) => s + Number(i.estimatedPrice||0), 0).toFixed(1)
        },
        totalActual() {
          return this.shoppingList.filter(i => i.bought && i.actualPrice)
            .reduce((s,i) => s + Number(i.actualPrice), 0).toFixed(1)
        },
        remainingBudget() {
          return (Number(this.totalEstimated) - Number(this.totalActual)).toFixed(1)
        }
      },
      
      methods: {
        addSchedule() {
          if (!this.newSchedule.title.trim()) return
          this.schedule.push({
            time: this.newSchedule.time || '--:--',
            title: this.newSchedule.title.trim(),
            note: '',
            place: this.newSchedule.place.trim()
          })
          this.newSchedule = { time: '18:00', title: '', place: '' }
        },
        addExpense() {
          if (!this.newExpense.title?.trim() || !this.newExpense.amount) return
          const d = new Date()
          this.expenses.unshift({
            title: this.newExpense.title.trim(),
            amount: Number(this.newExpense.amount),
            date: `${d.getMonth()+1}/${d.getDate()}`,
            method: this.newExpense.method,
            converted: this.rateHKDToTarget ? (this.newExpense.amount * this.rateHKDToTarget).toFixed(0) : '--'
          })
          this.newExpense = { title: '', amount: null, method: 'cash' }
        },
        deleteExpense(i) { this.expenses.splice(i, 1) },
        openMaps(place) {
          if (!place) return
          window.open(`https://www.google.com/maps/dir/?api=1&destination=${encodeURIComponent(place)}`, '_blank')
        },
        addItem() {
          if (!this.newItem.text.trim()) return
          this.shoppingList.unshift({
            text: this.newItem.text.trim(),
            estimatedPrice: Number(this.newItem.estimatedPrice) || null,
            image: this.newItem.image || '',
            bought: false,
            actualPrice: null
          })
          this.newItem = { text: '', estimatedPrice: null, image: '' }
          if (this.$refs.imageInput) this.$refs.imageInput.value = ''
        },
        deleteItem(i) { this.shoppingList.splice(i, 1) },
        updateItemBought(i) {
          // å·²è²·ä½†æ²’å¡«åƒ¹éŒ¢å¯å¾ŒçºŒå¡«å¯«
        },
        onImageSelect(e) {
          const file = e.target.files[0]
          if (file?.type.startsWith('image/')) {
            const reader = new FileReader()
            reader.onload = (ev) => this.newItem.image = ev.target.result
            reader.readAsDataURL(file)
          }
        },
        async fetchRate() {
          try {
            const res = await axios.get(`https://api.exchangerate.host/latest?base=HKD&symbols=${this.targetCurrency}`)
            this.rateHKDToTarget = res.data.rates[this.targetCurrency] || 20
          } catch { this.rateHKDToTarget = 20 }
        },
        async fetchWeather() {
          // éœ€è¦ OpenWeatherMap API Key æ‰èƒ½ç”¨ï¼Œæš«æ™‚ç”¨å‡è³‡æ–™
          this.weather = {
            loaded: true,
            city: 'é¦™æ¸¯',
            temp: 22,
            desc: 'å¤šé›²è½‰æ™´'
          }
        }
      },
      
      mounted() {
        this.fetchRate()
        setInterval(() => this.fetchRate(), 5*60*1000) // 5åˆ†é˜æ›´æ–°åŒ¯ç‡
        this.fetchWeather()
      }
    }).mount('#app')
  </script>
</body>
</html>
